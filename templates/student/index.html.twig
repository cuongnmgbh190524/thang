{% extends 'base.html.twig' %}

{% block title %}
	Student List
{% endblock %}

{% block body %}
	<div class="container">
		<h4 class="text-primary text-center">
			Student List</h4>
		{% if is_granted("ROLE_ADMIN") %}
			<a class="btn btn-outline-primary" href="{{ path('student_add') }}">Add New Student</a>
		{% endif %}

		<table class="table table-striped">
			<thead>
				<tr>
					<th>ID</th>
					<th>Name</th>
					<th>Age</th>
					<th>Phone</th>
					<th>Year</th>
					<th></th>
					<th>Email</th>
					<th>Actions</th>
				</tr>
			</thead>
			<tbody>
				{% for student in students %}
					<tr>
						<td>{{ student.id }}</td>
						<td>{{ student.name }}</td>
						<td>{{ student.age }}</td>
						<td>{{ student.phone }}</td>
						<td>{{ year-student.age}}<td>
						<td>{{ student.email }}</td>

						<td>
							<a class="btn btn-primary" href="{{ path('student_detail', {'id': student.id}) }}">DETAIL</a>
							{% if is_granted("ROLE_ADMIN") %}

								<a class="btn btn-info" href="{{ path('student_edit', {'id': student.id}) }}">EDIT</a>
								<a class="btn btn-danger" href="{{ path('student_delete', {'id': student.id}) }}" onclick="return confirm('Em xoá nha cưng ? Đừng quạo em')">DELETE</a>
							{% endif %}
						</td>
					</tr>
				{% endfor %}
			</tbody>

		</table>

	</div>
{% endblock %}
